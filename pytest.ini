# pytest.ini
[pytest]
testpaths =
    tests/fast
    tests/slow
    tests/mobile
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    fast: marks tests as fast
    mobile: mark a test for mobile simulation

# IMPORTANT: This line explicitly loads the pytest-playwright plugin.
# It resolves the "Unknown config option" warnings for 'plugins' and enables the 'page' fixture.
# This line is correct and should remain.
#plugins = playwright

# Optional: If you need to specify command-line options that apply to all runs,
# you can use 'addopts'. For example, for HTML reports:
addopts = --html=test_reports/report.html --self-contained-html

# Playwright settings - These configure the browser environment for your tests.
# These options should now be placed under the [pytest-playwright] section.
[pytest-playwright]
# Default timeout for all Playwright actions (in milliseconds)
# This will apply to playwright actions like page.click(), page.fill(), etc.
timeout = 45000

# Default timeout specifically for page navigations (in milliseconds)
navigation_timeout = 90000

# Determines if the browser UI is visible during test execution.
# Set to 'false' for debugging (you'll see the browser), 'true' for CI/CD or faster runs.
headless = false

# Specifies which browser engine to use.
# Options: chromium, firefox, webkit
browser_type = chromium

# Enables device emulation for the 'page' fixture.
# 'iPhone 13' is a built-in Playwright device profile.
device = iPhone 13

# Optional: You can set a base URL if your tests navigate to relative paths.
# For example, if you have page.goto("/login"), it would go to https://mylibribooks.com/login
# Uncomment and set if needed.
# base_url = https://mylibribooks.com